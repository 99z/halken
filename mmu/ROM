package mmu

import (
	"fmt"
	"io/ioutil"
	"cartcon"
)

// Reference http://gameboy.mongenel.com/dmg/asmmemmap.html
type GBMMU struct {
	// Bootstrap ROM
	bios	[256]byte
	cart	cartcon.*Cartridge
	// Bank 0 not switchable in DMG and CGB
	// For CGB, bank 1 is switchable
	ram		[2][4096]byte
	// Reserved
	echoram	[7680]byte
	
}

// Reads cartridge ROM into memory
// Returns ROM as byte slice
func LoadCart(path string) ([]byte, error) {
	cart, err := ioutil.ReadFile(path)
	if err != nil {
		return nil, fmt.Errorf("MMU: loadCart(%s) failed: %s", path, err)
	}

	return cart, nil
}
